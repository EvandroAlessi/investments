<ng-container *ngIf="isDataLoaded">
    <table mat-table [dataSource]="dataSource" matSort matSortActive="percentage" matSortDirection="desc"
        matSortDisableClear class="mat-elevation-z8">

        <ng-container matColumnDef="investmentType">
            <th mat-header-cell mat-sort-header sortActionDescription="Sort by Investment Type" *matHeaderCellDef>
                Investment Type
            </th>
            <td mat-cell *matCellDef="let element">
                {{ element.investmentType }}
            </td>
        </ng-container>

        <ng-container matColumnDef="percentage">
            <th mat-header-cell mat-sort-header arrowPosition="before"
                sortActionDescription="Sort by expected percentage" *matHeaderCellDef>
                Expected Percentage
            </th>
            <td mat-cell *matCellDef="let element" [align]="'center'">
                {{ element.percentage }}%
            </td>
        </ng-container>

        <ng-container matColumnDef="expectedAmount">
            <th mat-header-cell mat-sort-header arrowPosition="before" sortActionDescription="Sort by expected amount"
                *matHeaderCellDef>
                Expected Amount
            </th>
            <td mat-cell *matCellDef="let element">
                {{ formatCurrencyPontuation(element.expectedAmount) }}
            </td>
        </ng-container>

        <ng-container matColumnDef="currentAmount">
            <th mat-header-cell mat-sort-header arrowPosition="before" sortActionDescription="Sort by current amount"
                *matHeaderCellDef>
                Current Amount
            </th>
            <td mat-cell *matCellDef="let element">
                {{ formatCurrencyPontuation(element.currentAmount) }}
            </td>
        </ng-container>

        <ng-container matColumnDef="diff">
            <th mat-header-cell mat-sort-header arrowPosition="before" sortActionDescription="Sort by amount diff"
                *matHeaderCellDef>
                Amount Diff
            </th>
            <td mat-cell *matCellDef="let element" [class.red-cell]='element.diff < 0'
                [class.green-cell]="element.diff > 0">
                {{ formatCurrencyPontuation(element.diff) }}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [class.all-green]='row.diff == 0'></tr>
    </table>
</ng-container>